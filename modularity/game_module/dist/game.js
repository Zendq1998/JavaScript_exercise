/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/gameDom.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/css-loader/index.js!./src/game.css":
/*!************************************************!*\
  !*** ./node_modules/css-loader!./src/game.css ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("exports = module.exports = __webpack_require__(/*! ../node_modules/css-loader/lib/css-base.js */ \"./node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.i, \"/*整个地图的背景*/\\n.background{\\n    background : rgb(52,168,251);\\n    border-spacing : 0;\\n}\\n/*地图内的元素内边距*/\\n.background td{\\n    padding : 0;\\n}\\n/*定义整个地图的CSS信息，同时以该地图左上角为定位，定义玩家(absolute)的滚动信息*/\\n.game{\\n    /*保留溢出值*/\\n    overflow : auto;\\n    max-width : 1200px;\\n    max-height : 800px;\\n    position : relative; \\n}\\n/*活动元素的CSS信息*/\\n.actor{\\n    position : absolute;\\n}\\n/*初始玩家颜色*/\\n.player{\\n    background : rgb(64,64,64);\\n}\\n/*如果玩家失败(掉入熔浆)后的颜色*/\\n.lost .player{\\n    background :  rgb(160,64,64);\\n}\\n/*玩家胜利(取得所有硬币)后的颜色*/\\n.won .player{\\n    /*对左上角和右上角产生阴影效果*/\\n    box-shadow : -40px -70px 180px 50px red, 40px, -70px, 180px, 50px green;\\n} \\n/*熔浆的颜色*/\\n.lava{\\n    background : rgb(255,100,100);\\n}\\n/*墙*/\\n.wall{\\n    background : white;\\n}\\n/*硬币*/\\n.coin{\\n    background : rgb(241,229,89);\\n}\\n\", \"\"]);\n\n// exports\n\n\n//# sourceURL=webpack:///./src/game.css?./node_modules/css-loader");

/***/ }),

/***/ "./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function(useSourceMap) {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\treturn this.map(function (item) {\n\t\t\tvar content = cssWithMappingToString(item, useSourceMap);\n\t\t\tif(item[2]) {\n\t\t\t\treturn \"@media \" + item[2] + \"{\" + content + \"}\";\n\t\t\t} else {\n\t\t\t\treturn content;\n\t\t\t}\n\t\t}).join(\"\");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === \"string\")\n\t\t\tmodules = [[null, modules, \"\"]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === \"number\")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n\tvar content = item[1] || '';\n\tvar cssMapping = item[3];\n\tif (!cssMapping) {\n\t\treturn content;\n\t}\n\n\tif (useSourceMap && typeof btoa === 'function') {\n\t\tvar sourceMapping = toComment(cssMapping);\n\t\tvar sourceURLs = cssMapping.sources.map(function (source) {\n\t\t\treturn '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'\n\t\t});\n\n\t\treturn [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n\t}\n\n\treturn [content].join('\\n');\n}\n\n// Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n\t// eslint-disable-next-line no-undef\n\tvar base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n\tvar data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;\n\n\treturn '/*# ' + data + ' */';\n}\n\n\n//# sourceURL=webpack:///./node_modules/css-loader/lib/css-base.js?");

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target) {\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = __webpack_require__(/*! ./urls */ \"./node_modules/style-loader/lib/urls.js\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertInto + \" \" + options.insertAt.before);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\toptions.attrs.type = \"text/css\";\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\toptions.attrs.type = \"text/css\";\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = options.transform(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n\n\n//# sourceURL=webpack:///./node_modules/style-loader/lib/addStyles.js?");

/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n\n\n//# sourceURL=webpack:///./node_modules/style-loader/lib/urls.js?");

/***/ }),

/***/ "./src/game.css":
/*!**********************!*\
  !*** ./src/game.css ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("\nvar content = __webpack_require__(/*! !../node_modules/css-loader!./game.css */ \"./node_modules/css-loader/index.js!./src/game.css\");\n\nif(typeof content === 'string') content = [[module.i, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = __webpack_require__(/*! ../node_modules/style-loader/lib/addStyles.js */ \"./node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(false) {}\n\n//# sourceURL=webpack:///./src/game.css?");

/***/ }),

/***/ "./src/gameDom.js":
/*!************************!*\
  !*** ./src/gameDom.js ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game.css */ \"./src/game.css\");\n/* harmony import */ var _game_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_game_css__WEBPACK_IMPORTED_MODULE_0__);\n//webpack打包js和css一起(分离打包存在一些问题)\n\n\n//导入js文件\nvar obj2 = __webpack_require__(/*! ./gameMap.js */ \"./src/gameMap.js\");\nvar GAME_LEVELS = obj2.GAME_LEVELS;\nvar Level = obj2.Level;\n\n/*\nHTML的DOM应用\n*/\n\n\n//定义创建函数，创建节点属性\nfunction elt(name, className) {\n    var elt = document.createElement(name);\n    //className可选参数\n    if (className) \n        elt.className = className;\n    return elt;\n}\n\nfunction DOMDisplay(parent, level) {\n    //返回创造的元素，即参数，是整个游戏的div\n    this.wrap = parent.appendChild(elt(\"div\", \"game\"));\n    this.level = level;\n    //添加子元素地图\n    this.wrap.appendChild(this.drawBackground());\n    //actorLayer保存活动元素状态\n    this.actorLayer = null;\n    //因为活动元素的存在重新绘制部分地图\n    this.drawFrame();\n}\n\n//绘制背景图片\n//scale\"确定实际地图大小和单位距离的关系\nvar scale = 10;\nDOMDisplay.prototype.drawBackground = function() {\n    //绘制背景地图\n    var table = elt(\"table\", \"background\");\n    table.style.width = this.level.width * scale + \"px\";\n    this.level.grid.forEach(function(row) {\n        var rowElt = table.appendChild(elt(\"tr\"));\n        //默认高度1单元\n        rowElt.style.height = scale + \"px\";\n        row.forEach(function(type) {\n          rowElt.appendChild(elt(\"td\", type));\n        });\n    });\n    return table;\n};\n\n//创建活动元素和其父级元素\nDOMDisplay.prototype.drawActors = function() {\n    var wrap = elt(\"div\");\n    this.level.actors.forEach(function(actor) {\n        var rect = wrap.appendChild(elt(\"div\", \"actor \" + actor.type));\n        //玩家的实际大小\n        rect.style.width = actor.size.x * scale + \"px\";\n        rect.style.height = actor.size.y * scale + \"px\";\n        //距离父级元素的偏移距离\n        rect.style.left = actor.pos.x * scale + \"px\";\n        rect.style.top = actor.pos.y * scale + \"px\";\n    });\n    return wrap;\n};\n//中心视窗的确定，自动滚屏，增强体验性\nDOMDisplay.prototype.scrollPlayerIntoView = function() {\n    //读取父级元素的内部宽度与高度(含内边距)\n    var width = this.wrap.clientWidth;\n    var height = this.wrap.clientHeight;\n    var wid = 0.4 * width;\n    var hei = 0.5 * height;\n    // 读取滚动条到元素左边和上边的距离\n    var left = this.wrap.scrollLeft, right = left + width;\n    var top = this.wrap.scrollTop, bottom = top + height;\n    var player = this.level.player;\n    //利用向量找出元素的中心位置\n    var center = player.pos.plus(player.size.times(0.5)).times(scale);\n    //如果元素的横坐标临近父级元素左边界(父级宽度1/3左右)，设置滚动条距\n    if (center.x < left + wid)\n        this.wrap.scrollLeft = center.x - wid;\n    else if (center.x > right - wid)\n        this.wrap.scrollLeft = center.x + wid - width;\n    if (center.y < top + hei)\n        this.wrap.scrollTop = center.y - hei;\n    else if (center.y > bottom - hei)\n        this.wrap.scrollTop = center.y + hei - height;\n};\n//绘制活动元素\nDOMDisplay.prototype.drawFrame = function() {\n    if (this.actorLayer)\n        this.wrap.removeChild(this.actorLayer);\n    this.actorLayer = this.wrap.appendChild(this.drawActors());\n    this.wrap.className = \"game \" + (this.level.status || \"\");\n    this.scrollPlayerIntoView();\n};\n//清除关卡\nDOMDisplay.prototype.clear = function() {\n    this.wrap.parentNode.removeChild(this.wrap);\n};\n\n/*\n按键器的实现(不存在向下移动)\n*/\n//定义按键值对象，被传入下面函数，即按键的Unicode值：\nvar arrowCodes = {37: \"left\", 38: \"up\", 39: \"right\"};\nfunction trackKeys(codes) {\n    //创造空对象\n    var pressed = Object.create(null);\n    //定义处理函数\n    function handler(event){\n        //如果存在该键值\n        if (codes.hasOwnProperty(event.keyCode)) {\n            //是否按下键\n            var down = event.type == \"keydown\";\n            //记录\n            pressed[codes[event.keyCode]] = down;\n            //防止按键产生的页面滚动\n            event.preventDefault();\n        }   \n    }   \n    //页面注销时，注销事件发生器，否则下个地图物体初始会运动，有bug\n    function logout(event){\n        pressed = Object.create(null);\n    }\n    //如果按下键，触发回调函数\n    addEventListener(\"keydown\", handler);\n    addEventListener(\"keyup\", handler);\n    //页面注销时，注销事件发生器，不知道是否正确\n    addEventListener(\"beforeunload\", logout);\n    return pressed;\n}\n\nfunction runAnimation(frameFunc) {\n    var lastTime = null;\n    function frame(time) {\n        var stop = false;\n        if (lastTime != null) {\n            //求间隔\n            var timeStep = Math.min(time - lastTime, 100) / 1000;\n            stop = frameFunc(timeStep) === false;\n        }\n        lastTime = time;\n        if (!stop)\n            requestAnimationFrame(frame);\n    }\n    //frame回调函数，参数是触发函数的当前时间\n    requestAnimationFrame(frame);\n}\n//封装函数\nfunction runLevel(level, Display, andThen) {\n    var display = new Display(document.body, level);\n    //取得按键数组\n    var arrows = trackKeys(arrowCodes);\n    function pause(event){\n        if(event.keyCode == 27){\n            var yes = confirm(\"Continue?\");\n            //如果不继续\n            if(!yes){\n                while(1){\n                    yes = confirm(\"Continue?\"); \n                    if(yes)\n                        break;\n                }\n            }\n        }\n    }\n    addEventListener(\"keydown\", pause);\n    runAnimation(function(step) {\n        //移动元素\n        level.animate(step, arrows);\n        //绘制元素\n        display.drawFrame();\n        //该地图结束，调用函数\n        if (level.isFinished()) {\n            display.clear();\n            if(andThen)\n                andThen(level.status);\n            return false;\n        }\n    });\n}\n//封装函数，运行游戏\nfunction runGame(plans, Display) {\n    //注意之前无条件执行过一条命\n    var life = 2;\n    function startLevel(n) {\n        //注意：document.write(),每输出一次就会刷新一次页面,无法正常使用\n        scale = prompt(\"要放大一点吗?(建议10-20之间)\") || 10;\n        window.alert(\"Notice : 你现在有 \" + (life + 1) + \" 条命\");\n        runLevel(new Level(plans[n]), Display, function(status){\n            console.log(1);\n            if (status == \"lost\"){\n                if(life-- > 0)\n                    startLevel(n);\n                else{\n                    life = 2;\n                    startLevel(0);\n                }\n            }\n            else if (n < plans.length - 1)\n                startLevel(n + 1);\n            else\n                console.log(\"You win!\");\n        });\n    }\n    startLevel(0);\n}\n  \n/*\n函数的调用\n*/\n\nrunGame(GAME_LEVELS, DOMDisplay);\n\n\n\n//# sourceURL=webpack:///./src/gameDom.js?");

/***/ }),

/***/ "./src/gameMap.js":
/*!************************!*\
  !*** ./src/gameMap.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var obj1 = __webpack_require__(/*! ./gameStruct.js */ \"./src/gameStruct.js\");\nvar Vector = obj1.Vector;\nvar actorChars = obj1.actorChars;\n/*\n加载地图的实现\n*/\n\n//用字符串数组存储地图\nvar GAME_LEVELS = [\n[\"                                                                                \",\n    \"                                                                                \",\n    \"                                                                                \",\n    \"                                                                                \",\n    \"                                                                                \",\n    \"                                                                                \",\n    \"                                                                  xxx           \",\n    \"                                                   xx      xx    xx!xx          \",\n    \"                                    o o      xx                  x!!!x          \",\n    \"                                                                 xx!xx          \",\n    \"                                   xxxxx                          xvx           \",\n    \"                                                                            xx  \",\n    \"  xx                                      o o                                x  \",\n    \"  x                     o                                                    x  \",\n    \"  x                                      xxxxx                             o x  \",\n    \"  x          xxxx       o                                                    x  \",\n    \"  x  @       x  x                                                xxxxx       x  \",\n    \"  xxxxxxxxxxxx  xxxxxxxxxxxxxxx   xxxxxxxxxxxxxxxxxxxx     xxxxxxx   xxxxxxxxx  \",\n    \"                              x   x                  x     x                    \",\n    \"                              x!!!x                  x!!!!!x                    \",\n    \"                              x!!!x                  x!!!!!x                    \",\n    \"                              xxxxx                  xxxxxxx                    \",\n    \"                                                                                \",\n    \"                                                                                \"],\n[\"                                      x!!x                        xxxxxxx                                    x!x  \",\n    \"                                      x!!x                     xxxx     xxxx                                 x!x  \",\n    \"                                      x!!xxxxxxxxxx           xx           xx                                x!x  \",\n    \"                                      xx!!!!!!!!!!xx         xx             xx                               x!x  \",\n    \"                                       xxxxxxxxxx!!x         x                                    o   o   o  x!x  \",\n    \"                                                xx!x         x     o   o                                    xx!x  \",\n    \"                                                 x!x         x                                xxxxxxxxxxxxxxx!!x  \",\n    \"                                                 xvx         x     x   x                        !!!!!!!!!!!!!!xx  \",\n    \"                                                             xx  |   |   |  xx            xxxxxxxxxxxxxxxxxxxxx   \",\n    \"                                                              xx!!!!!!!!!!!xx            v                        \",\n    \"                                                               xxxx!!!!!xxxx                                      \",\n    \"                                               x     x            xxxxxxx        xxx         xxx                  \",\n    \"                                               x     x                           x x         x x                  \",\n    \"                                               x     x                             x         x                    \",\n    \"                                               x     x                             xx        x                    \",\n    \"                                               xx    x                             x         x                    \",\n    \"                                               x     x      o  o     x   x         x         x                    \",\n    \"               xxxxxxx        xxx   xxx        x     x               x   x         x         x                    \",\n    \"              xx     xx         x   x          x     x     xxxxxx    x   x   xxxxxxxxx       x                    \",\n    \"             xx       xx        x o x          x    xx               x   x   x               x                    \",\n    \"     @       x         x        x   x          x     x               x   x   x               x                    \",\n    \"    xxx      x         x        x   x          x     x               x   xxxxx   xxxxxx      x                    \",\n    \"    x x      x         x       xx o xx         x     x               x     o     x x         x                    \",\n    \"!!!!x x!!!!!!x         x!!!!!!xx     xx!!!!!!!!xx    x!!!!!!!!!!     x     =     x x         x                    \",\n    \"!!!!x x!!!!!!x         x!!!!!xx       xxxxxxxxxx     x!!!!!!!xx!     xxxxxxxxxxxxx xx  o o  xx                    \",\n    \"!!!!x x!!!!!!x         x!!!!!x    o                 xx!!!!!!xx !                    xx     xx                     \",\n    \"!!!!x x!!!!!!x         x!!!!!x                     xx!!!!!!xx  !                     xxxxxxx                      \",\n    \"!!!!x x!!!!!!x         x!!!!!xx       xxxxxxxxxxxxxx!!!!!!xx   !                                                  \",\n    \"!!!!x x!!!!!!x         x!!!!!!xxxxxxxxx!!!!!!!!!!!!!!!!!!xx    !                                                  \",\n    \"!!!!x x!!!!!!x         x!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!xx     !                                                  \"],\n    [\"                                                                                                              \",\n    \"                                                                                                              \",\n    \"                                                                                                              \",\n    \"                                                                                                              \",\n    \"                                                                                                              \",\n    \"                                        o                                                                     \",\n    \"                                                                                                              \",\n    \"                                        x                                                                     \",\n    \"                                        x                                                                     \",\n    \"                                        x                                                                     \",\n    \"                                        x                                                                     \",\n    \"                                       xxx                                                                    \",\n    \"                                       x x                 !!!        !!!  xxx                                \",\n    \"                                       x x                 !x!        !x!                                     \",\n    \"                                     xxx xxx                x          x                                      \",\n    \"                                      x   x                 x   oooo   x       xxx                            \",\n    \"                                      x   x                 x          x      x!!!x                           \",\n    \"                                      x   x                 xxxxxxxxxxxx       xxx                            \",\n    \"                                     xx   xx      x   x      x                                                \",\n    \"                                      x   xxxxxxxxx   xxxxxxxx              x x                               \",\n    \"                                      x   x           x                    x!!!x                              \",\n    \"                                      x   x           x                     xxx                               \",\n    \"                                     xx   xx          x                                                       \",\n    \"                                      x   x= = = =    x            xxx                                        \",\n    \"                                      x   x           x           x!!!x                                       \",\n    \"                                      x   x    = = = =x     o      xxx       xxx                              \",\n    \"                                     xx   xx          x                     x!!!x                             \",\n    \"                              o   o   x   x           x     x                xxv        xxx                   \",\n    \"                                      x   x           x              x                 x!!!x                  \",\n    \"                             xxx xxx xxx xxx     o o  x!!!!!!!!!!!!!!x                   vx                   \",\n    \"                             x xxx x x xxx x          x!!!!!!!!!!!!!!x                                        \",\n    \"                             x             x   xxxxxxxxxxxxxxxxxxxxxxx                                        \",\n    \"                             xx           xx                                         xxx                      \",\n    \"  xxx                         x     x     x                                         x!!!x                xxx  \",\n    \"  x x                         x    xxx    x                                          xxx                 x x  \",\n    \"  x                           x    xxx    xxxxxxx                        xxxxx                             x  \",\n    \"  x                           x           x                              x   x                             x  \",\n    \"  x                           xx          x                              x x x                             x  \",\n    \"  x                                       x       |xxxx|    |xxxx|     xxx xxx                             x  \",\n    \"  x                xxx             o o    x                              x         xxx                     x  \",\n    \"  x               xxxxx       xx          x                             xxx       x!!!x          x         x  \",\n    \"  x               oxxxo       x           x                             x x        xxx          xxx        x  \",\n    \"  x                xxx        xxxxxxxxxxxxx  x oo x    x oo x    x oo  xx xx                    xxx        x  \",\n    \"  x      @          x         x           x!!x    x!!!!x    x!!!!x    xx   xx                    x         x  \",\n    \"  xxxxxxxxxxxxxxxxxxxxxxxxxxxxx           xxxxxxxxxxxxxxxxxxxxxxxxxxxxx     xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  \",\n    \"                                                                                                              \",\n    \"                                                                                                              \"],\n    [\"                                                                                                  xxx x       \",\n    \"                                                                                                      x       \",\n    \"                                                                                                  xxxxx       \",\n    \"                                                                                                  x           \",\n    \"                                                                                                  x xxx       \",\n    \"                          o                                                                       x x x       \",\n    \"                                                                                             o o oxxx x       \",\n    \"                   xxx                                                                                x       \",\n    \"       !  o  !                                                xxxxx xxxxx xxxxx xxxxx xxxxx xxxxx xxxxx       \",\n    \"       x     x                                                x   x x   x x   x x   x x   x x   x x           \",\n    \"       x= o  x            x                                   xxx x xxx x xxx x xxx x xxx x xxx x xxxxx       \",\n    \"       x     x                                                  x x   x x   x x   x x   x x   x x     x       \",\n    \"       !  o  !            o                                  xxxx xxxxx xxxxx xxxxx xxxxx xxxxx xxxxxxx       \",\n    \"                                                                                                              \",\n    \"          o              xxx                              xx                                                  \",\n    \"                                                                                                              \",\n    \"                                                                                                              \",\n    \"                                                      xx                                                      \",\n    \"                   xxx         xxx                                                                            \",\n    \"                                                                                                              \",\n    \"                          o                                                     x      x                      \",\n    \"                                                          xx     xx                                           \",\n    \"             xxx         xxx         xxx                                 x                  x                 \",\n    \"                                                                                                              \",\n    \"                                                                 ||                                           \",\n    \"  xxxxxxxxxxx                                                                                                 \",\n    \"  x         x o xxxxxxxxx o xxxxxxxxx o xx                                                x                   \",\n    \"  x         x   x       x   x       x   x                 ||                  x     x                         \",\n    \"  x  @      xxxxx   o   xxxxx   o   xxxxx                                                                     \",\n    \"  xxxxxxx                                     xxxxx       xx     xx     xxx                                   \",\n    \"        x=                  =                =x   x                     xxx                                   \",\n    \"        xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx   x!!!!!!!!!!!!!!!!!!!!!xxx!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\",\n    \"                                                  xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n    \"                                                                                                              \"]\n];\n\n//定义构造函数根据地图创建地图对象\nfunction Level(plan){\n    this.width = plan[0].length;\n    this.height = plan.length;\n    //grid二维数组存储字符串化的地图\n    this.grid = [];\n    //actors储存活动元素，lava，coin，player\n    this.actors = [];\n    //y表示纵坐标，x表示横坐标\n    for (var y = 0; y < this.height; y++) {\n        var line = plan[y], gridLine = [];\n        for (var x = 0; x < this.width; x++) {\n            var ch = line[x], fieldType = null;\n            var Actor = actorChars[ch];\n            //Actor为各个对象的构造函数，ch为可选参数\n            if (Actor)\n                this.actors.push(new Actor(new Vector(x, y), ch));\n            //墙\n            else if (ch == \"x\")\n                fieldType = \"wall\";\n            //熔浆\n            else if (ch == \"!\")\n                fieldType = \"lava\";\n            gridLine.push(fieldType);\n        }\n        this.grid.push(gridLine);\n    }\n    //查找该地图的玩家元素\n    this.player = this.actors.filter(function(actor) {\n        return actor.type == \"player\";  \n    })[0];\n    //记录玩家是否通过的信息\n    this.status = this.finishDelay = null;\n}\n//判断活动元素前进的方向是否有障碍物\nLevel.prototype.obstacleAt = function(pos, size) {\n    //取下值\n    var xStart = Math.floor(pos.x);\n    //取上值\n    var xEnd = Math.ceil(pos.x + size.x);\n    var yStart = Math.floor(pos.y);\n    var yEnd = Math.ceil(pos.y + size.y);\n    //如果碰到左右边界，或上边界，则前方的障碍物时是墙\n    if (xStart < 0 || xEnd > this.width || yStart < 0)\n    return \"wall\";\n    //如果掉入地图以下，则进入熔浆，玩家死亡\n    if (yEnd > this.height)\n    return \"lava\";\n    //遍历新位置活动元素周围的元素，查找是否有障碍物\n    for (var y = yStart; y < yEnd; y++) {\n        for (var x = xStart; x < xEnd; x++) {\n            var fieldType = this.grid[y][x];\n            if (fieldType) return fieldType;\n        }\n    } \n};\n//判断玩家与哪个元素重叠(碰撞)\nLevel.prototype.actorAt = function(actor) {\n    for (var i = 0; i < this.actors.length; i++) {\n        var other = this.actors[i];\n        if (other != actor &&\n            actor.pos.x + actor.size.x > other.pos.x &&\n            actor.pos.x < other.pos.x + other.size.x &&\n            actor.pos.y + actor.size.y > other.pos.y &&\n            actor.pos.y < other.pos.y + other.size.y)\n        return other;\n    }\n};\n//设置最大时间间隔\nvar maxStep = 0.05;\n//在时间间隔内物体移动\nLevel.prototype.animate = function(step, keys) {\n    if (this.status != null)\n        this.finishDelay -= step;\n    while (step > 0) {\n        var thisStep = Math.min(step, maxStep);\n        this.actors.forEach(function(actor) {\n            actor.act(thisStep, this, keys);\n        },this);\n        step -= thisStep;\n    }\n};\n//玩家的碰撞类型分析\nLevel.prototype.playerTouched = function(type, actor) {\n    //如果碰到熔浆\n    if (type == \"lava\" && this.status == null) {\n        this.status = \"lost\";\n        this.finishDelay = 1;\n    } \n    //如果吃到硬币\n    else if (type == \"coin\") {\n        //注意这里的actor不是玩家，是函数的参数，即现在的硬币，从活动元素中移除该硬币\n        this.actors = this.actors.filter(function(other) {\n            return other != actor;\n        });\n        //对每个元素都执行一次指定的函数，直到找到硬币(如果不存在硬币，则游戏结束)\n        if (!this.actors.some(function(actor) {\n            return actor.type == \"coin\";\n            })){     \n            this.status = \"won\";\n            this.finishDelay = 1;\n        }\n    } \n};\n//判断游戏是否结束\nLevel.prototype.isFinished = function() {\n    return this.status != null && this.finishDelay < 0;\n};\n\nvar obj = {\n    \"GAME_LEVELS\" : GAME_LEVELS,\n    \"Level\" : Level\n}\n\nmodule.exports = obj\n\n//# sourceURL=webpack:///./src/gameMap.js?");

/***/ }),

/***/ "./src/gameStruct.js":
/*!***************************!*\
  !*** ./src/gameStruct.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n/*\n一系列构造函数的定义\n*/\n\n//向量构造函数\nfunction Vector(x, y) {\n    this.x = x; this.y = y;\n}\nVector.prototype.plus = function(other) {\n    return new Vector(this.x + other.x, this.y + other.y);\n};\nVector.prototype.times = function(factor) {\n    return new Vector(this.x * factor, this.y * factor);\n};\n\n//玩家构造函数\nfunction Player(pos) {\n    //玩家是半格子高度，为了与@对齐，纵坐标要上移\n    this.pos = pos.plus(new Vector(0, -0.5));\n    //初始化玩家大小\n    this.size = new Vector(0.8, 1.5);\n    //初始速度向量为0\n    this.speed = new Vector(0, 0);\n}\n//元素类型\nPlayer.prototype.type = \"player\";\n//定义玩家移动速度\nvar playerXSpeed = 7;\n//定义玩家水平方向的移动行为\nPlayer.prototype.moveX = function(step, level, keys) {\n    this.speed.x = 0;\n    //根据按键决定玩家移动\n    if (keys.left) this.speed.x -= playerXSpeed;\n    if (keys.right) this.speed.x += playerXSpeed;\n    var motion = new Vector(this.speed.x * step, 0);\n    var newPos = this.pos.plus(motion);\n    //检查是否存在障碍物\n    var obstacle = level.obstacleAt(newPos, this.size);\n    if (obstacle)\n        level.playerTouched(obstacle);\n    else\n        this.pos = newPos;\n};\n\n\n//定义玩家垂直方向的移动行为\nPlayer.prototype.moveY = function(step, level, keys) {\n    //定义重力\n    var gravity = 30;\n    //定义速度，注意这里的速度是减去重力后的速度\n    var jumpSpeed = 17;\n    //初始化垂直方向的速度\n    this.speed.y += step * gravity;\n    var motion = new Vector(0, this.speed.y * step);\n    var newPos = this.pos.plus(motion);\n    var obstacle = level.obstacleAt(newPos, this.size);\n    if (obstacle) {\n        level.playerTouched(obstacle);\n        //注意这里的下速度必须为0，否则有一个bug，玩家会贴墙走\n        if (keys.up && this.speed.y > 0)\n            this.speed.y = -jumpSpeed;\n        else\n            this.speed.y = 0;\n    } \n    else {\n        this.pos = newPos;\n    }\n};\n//总的玩家的移动实现\nPlayer.prototype.act = function(step, level, keys) {\n    this.moveX(step, level, keys);\n    this.moveY(step, level, keys);\n    //判断玩家是否与其他元素碰撞\n    var otherActor = level.actorAt(this);\n    if (otherActor)\n        level.playerTouched(otherActor.type, otherActor);\n    // 如果玩家死亡，通过玩家下沉，缩小来表示游戏结束\n    if (level.status == \"lost\") {\n        this.pos.y += step;\n        this.size.y -= step;\n    }\n};\n\n\n//熔浆构造函数\nfunction Lava(pos,ch){\n    this.pos = pos;\n    this.size = new Vector(1,1);\n    //判断熔浆类型，决定速度向量\n    if(ch == \"=\")\n        this.speed = new Vector(2,0);\n    else if(ch == \"|\")\n        this.speed = new Vector(0,2);\n    else{\n        this.speed = new Vector(0,2);\n        //如果熔浆有repeatPos属性，对象会直接返回原位置，否则改变速度，向原位置反向移动\n        this.repeatPos = pos;\n    }\n}\n//元素类型\nLava.prototype.type = \"lava\";\n//元素移动方式\nLava.prototype.act = function(step, level) {\n    var newPos = this.pos.plus(this.speed.times(step));\n    //如果前面没有障碍物，移动元素\n    if (!level.obstacleAt(newPos, this.size))\n        this.pos = newPos;\n    //如果是该类型，直接回到原始位置    \n    else if (this.repeatPos)\n        this.pos = this.repeatPos;\n    //如果是该类型，速度方向改变\n    else\n        this.speed = this.speed.times(-1);\n};\n\n\n//硬币构造函数\nfunction Coin(pos){\n    //初始化硬币原始位置\n    this.basePos = this.pos = pos.plus(new Vector(0.2,0.1));\n    this.size = new Vector(0.6,0.6);\n    //硬币跳跃幅度，在圆的各个方向都可以跳跃\n    this.wobble = Math.random() * Math.PI * 2;\n}\n//元素类型\nCoin.prototype.type = \"coin\";\n//定义晃动时间和幅度\nvar wobbleSpeed = 8, wobbleDist = 0.07;\n//晃动行为的实现\nCoin.prototype.act = function(step) {\n    //定义圆周角度\n    this.wobble += step * wobbleSpeed;\n    var wobblePos = Math.sin(this.wobble) * wobbleDist;\n    this.pos = this.basePos.plus(new Vector(0, wobblePos));\n};\n\n\n//actorChars对象将表示某个物体的字符转化为它的构造函数\nvar actorChars = {\n    \"@\" : Player,\n    \"o\" : Coin,\n    \"=\" : Lava,\n    \"|\" : Lava,\n    \"v\" : Lava\n};\n\n\nvar obj = {\n    \"Vector\" : Vector,\n    \"actorChars\" : actorChars\n}\n\nmodule.exports = obj;\n\n\n\n//# sourceURL=webpack:///./src/gameStruct.js?");

/***/ })

/******/ });